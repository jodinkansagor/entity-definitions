agentVersion:
  title: Agent version
  unit: STRING
  tag:
    key: agentVersion
cpuUsageHost:
  unit: PERCENTAGE
  query:
    from: Metric
    select: average(host.cpuPercent)
    eventId: entity.guid
  hidden: true
cpuUsageEc2:
  unit: PERCENTAGE
  query:
    from: Metric
    select: average(aws.ec2.CPUUtilization)
    eventId: entity.guid
  hidden: true
cpuUsageAzure:
  unit: PERCENTAGE
  query:
    from: Metric
    select: average(azure.compute.virtualmachines.PercentageCPU)
    eventId: entity.guid
  hidden: true
cpuUsageGcp:
  unit: PERCENTAGE
  query:
    from: Metric
    select: average(gcp.compute.instance.cpu.utilization)
    eventId: entity.guid
  hidden: true
networkInHost:
  unit: BYTES_PER_SECOND
  query:
    from: Metric
    select: average(host.net.receiveBytesPerSecond)
    eventId: entity.guid
  hidden: true
networkInEc2:
  unit: BYTES_PER_SECOND
  query:
    from: Metric
    select: average(aws.ec2.NetworkIn)
    eventId: entity.guid
  hidden: true
networkInAzure:
  unit: BYTES_PER_SECOND
  query:
    from: Metric
    select: average(azure.compute.virtualmachines.NetworkIn)
    eventId: entity.guid
  hidden: true
networkInGcp:
  unit: BYTES_PER_SECOND
  query:
    from: Metric
    select: average(gcp.compute.instance.network.received_bytes_count)
    eventId: entity.guid
  hidden: true
networkInOtel:
  unit: BYTES_PER_SECOND
  query:
    select: sum(system.network.io) / sum((endTimestamp - timestamp) / 1000)
    where: device != 'lo' AND direction='receive'
    from: Metric
  hidden: true
networkOutHost:
  unit: BYTES_PER_SECOND
  query:
    from: Metric
    select: average(host.net.transmitBytesPerSecond)
    eventId: entity.guid
  hidden: true
networkOutEc2:
  unit: BYTES_PER_SECOND
  query:
    from: Metric
    select: average(aws.ec2.NetworkOut)
    eventId: entity.guid
  hidden: true
networkOutAzure:
  unit: BYTES_PER_SECOND
  query:
    from: Metric
    select: average(azure.compute.virtualmachines.NetworkOut)
    eventId: entity.guid
  hidden: true
networkOutGcp:
  title: Network out GCP
  unit: BYTES_PER_SECOND
  query:
    from: Metric
    select: average(gcp.compute.instance.network.sent_bytes_count)
    eventId: entity.guid
  hidden: true
networkOutOtel:
  unit: BYTES_PER_SECOND
  query:
    select: sum(system.network.io) / sum((endTimestamp - timestamp) / 1000)
    where: device != 'lo' AND direction='transmit'
    from: Metric
  hidden: true
cpuUsage:
  goldenMetric: cpuUsage
  title: CPU usage (%)
  unit: PERCENTAGE
  derive: '@cpuUsageHost || @cpuUsageEc2 || @cpuUsageAzure || @cpuUsageGcp'
memoryUsage:
  goldenMetric: memoryUsage
  title: Memory usage (%)
  unit: PERCENTAGE
  query:
    from: Metric
    select: average(host.memoryUsage)
    eventId: entity.guid
storageUsage:
  goldenMetric: storageUsage
  title: Storage usage (%)
  unit: PERCENTAGE
  query:
    from: Metric
    select: average(host.diskUsedPercent)
    eventId: entity.guid
networkTrafficTx:
  goldenMetric: networkTrafficTx
  title: Network transmit traffic (bytes/s)
  unit: BYTES_PER_SECOND
  derive: '@networkOutHost || @networkOutEc2 || @networkOutAzure || @networkOutGcp || @networkOutOtel'
networkTrafficRx:
  goldenMetric: networkTrafficRx
  title: Network receive traffic (bytes/s)
  unit: BYTES_PER_SECOND
  derive: '@networkInHost || @networkInEc2 || @networkInAzure || @networkInGcp || @networkInOtel'
